(function(b){b.roadblocked=function(h,i){var d,g,j,k,l,c=this;this.el=h;this.$el=b(h);this.$el.data("roadblocked",this);this.init=function(){var a,f,m,e;c.options=b.extend({},b.roadblocked.defaults,i);f=j(c.options.devices);if((e=c.options.devices[f])&&"done"!==jQuery.cookie(""+c.options.campaignName))m=d(),a=c.setContent(e),e=e.link,c.placeInterstitial(m,a,e,f),k(!0),l(c.options.lifetime,c.options.campaignName);return c};j=function(a){var b,c,e,g,d,h;g="";e=[];for(b in a)e.push(b);c=navigator.userAgent.toLowerCase();
b=function(a){if(-1<c.indexOf(a))if("android"===a){if(-1<c.indexOf("mobile"))return g=a}else return g=a};for(d=0,h=e.length;d<h;d++)a=e[d],b(a);return g};this.placeInterstitial=function(a,f,d,e){e=b("<div>",{id:"roadblocked-container","class":e});e.html("");e.css({"background-color":c.options.overlayBackgroundColor,top:"0",left:"0",height:"100%",width:"100%",position:"fixed","z-index":"100",margin:"0",display:"block"});b("body").prepend(e);b("#roadblocked-container").prepend(a);"top"===c.options.dismissPlacement?
b("#dismiss-bar").after(f):"bottom"===c.options.dismissPlacement?b("#dismiss-bar").before(f):b("#dismiss-bar").after(f);b("#dismiss-bar").click(function(){b("#roadblocked-container").hide();return g()});return b("#inter-content").click(function(){if(null!=d)return window.location=""+d,b("#roadblocked-container").hide(),g()})};d=function(){var a,f;a=c.options.dismissLabel;if("string"===typeof a)return a=parseFloat(c.options.dismissLabelHeight)/100*b(window).height(),f=b("<div>",{id:"dismiss-bar"}),
f.css({height:a,width:"90%",margin:"0 auto","background-color":""+c.options.overlayBackgroundColor,"text-align":""+c.options.dismissLabelAlign,"background-image":"url('"+c.options.imgPath+"/"+c.options.dismissLabel+"')","background-position":""+c.options.dismissLabelAlign,"background-repeat":"no-repeat","background-size":"contain"}),f;if("object"===typeof a)return a.attr("id","dismiss-bar"),a.show(),a};this.setContent=function(a){var f,d;if(null!=a.img)return d=b("<div>",{id:"inter-content"}),f="string"===
typeof c.options.dismissLabel?(100-parseFloat(c.options.dismissLabelHeight)).toString()+"%":"100%",d.css({height:f,width:"100%","background-image":"url('"+c.options.imgPath+"/"+a.img+"')","background-position":"top","background-repeat":"no-repeat","background-size":"contain"}),d;if(null!=a.selector)return a.selector.attr("id","inter-content"),a.selector.show(),a.selector};k=function(a){if(!0===a)return b("body").css("position","fixed")};g=function(){return b("body").css("position","static")};l=function(a,
b){return jQuery.cookie(""+b,"done",{expires:a})};this.isRetna=function(){var a;return null!=(a=1<window.devicePixelRatio)?a:{"true":!1}};return this.init()};b.roadblocked.defaults={imgPath:"images",retnaPath:"images/retna",overlayBackgroundColor:"#000",dismissLabelHeight:"7.5%",dismissLabelAlign:"center",dismissPlacement:"top",lifetime:0,campaignName:"jqueryRoadblocked"};b.fn.roadblocked=function(h){return b.each(this,function(i,d){var g;g=b(d);if(!g.data("roadblocked"))return g.data("roadblocked",
new b.roadblocked(d,h))})}})(jQuery);