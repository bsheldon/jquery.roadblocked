(function(b){b.roadblocked=function(h,j){var g,d,k,l,m,c=this;this.el=h;this.$el=b(h);this.$el.data("roadblocked",this);this.init=function(){var a,f,i,e;c.options=b.extend({},b.roadblocked.defaults,j);jQuery.cookie("probe","landed");null!=jQuery.cookie("probe")&&(a=!0);f=k(c.options.devices);if((e=c.options.devices[f])&&a&&"done"!==jQuery.cookie(""+c.options.campaignName))i=g(),a=c.setContent(e),e=e.link,c.placeInterstitial(i,a,e,f),l(!0),m(c.options.lifetime,c.options.campaignName,c.options.path);
return c};k=function(a){var b,c,e,d,g,h;d="";e=[];for(b in a)e.push(b);c=navigator.userAgent.toLowerCase();b=function(a){if(-1<c.indexOf(a))if("android"===a){if(-1<c.indexOf("mobile"))return d=a}else return d=a};for(g=0,h=e.length;g<h;g++)a=e[g],b(a);return d};this.placeInterstitial=function(a,f,i,e){e=b("<div>",{id:"roadblocked-container","class":e});e.html("");e.css({"background-color":c.options.overlayBackgroundColor,top:"0",left:"0",height:"100%",width:"100%",position:"fixed","z-index":"100",
margin:"0",display:"block"});b("body").prepend(e);b("#roadblocked-container").prepend(a);"top"===c.options.dismissPlacement?b("#dismiss-bar").after(f):"bottom"===c.options.dismissPlacement?b("#dismiss-bar").before(f):b("#dismiss-bar").after(f);b("#dismiss-bar").click(function(){b("#roadblocked-container").hide();return d()});return b("#inter-content").click(function(){if(null!=i)return window.location=""+i,b("#roadblocked-container").hide(),d()})};g=function(){var a,f;a=c.options.dismissLabel;if("string"===
typeof a)return a=parseFloat(c.options.dismissLabelHeight)/100*b(window).height(),f=b("<div>",{id:"dismiss-bar"}),f.css({height:a,width:"90%",margin:"0 auto","background-color":""+c.options.overlayBackgroundColor,"text-align":""+c.options.dismissLabelAlign,"background-image":"url('"+c.options.imgPath+"/"+c.options.dismissLabel+"')","background-position":""+c.options.dismissLabelAlign,"background-repeat":"no-repeat","background-size":"contain"}),f;if("object"===typeof a)return a.attr("id","dismiss-bar"),
a.show(),a};this.setContent=function(a){var f,d;if(null!=a.img)return d=b("<div>",{id:"inter-content"}),f="string"===typeof c.options.dismissLabel?(100-parseFloat(c.options.dismissLabelHeight)).toString()+"%":"100%",d.css({height:f,width:"100%","background-image":"url('"+c.options.imgPath+"/"+a.img+"')","background-position":"top","background-repeat":"no-repeat","background-size":"contain"}),d;if(null!=a.selector)return a.selector.attr("id","inter-content"),a.selector.show(),a.selector};l=function(a){if(!0===
a)return b("body").css("position","fixed")};d=function(){return b("body").css("position","static")};m=function(a,b,c){return jQuery.cookie(""+b,"done",{expires:a,path:c})};this.isRetna=function(){var a;return null!=(a=1<window.devicePixelRatio)?a:{"true":!1}};return this.init()};b.roadblocked.defaults={imgPath:"images",retnaPath:"images/retna",overlayBackgroundColor:"#000",dismissLabelHeight:"7.5%",dismissLabelAlign:"center",dismissPlacement:"top",lifetime:0,path:"/",campaignName:"jqueryRoadblocked"};
b.fn.roadblocked=function(h){return b.each(this,function(j,g){var d;d=b(g);if(!d.data("roadblocked"))return d.data("roadblocked",new b.roadblocked(g,h))})}})(jQuery);