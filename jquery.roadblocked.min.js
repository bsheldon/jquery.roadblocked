(function(a){a.roadblocked=function(b,c){var d,e,f,g=this;this.el=b;this.$el=a(b);this.$el.data("roadblocked",this);this.init=function(){var b,h,i,j,k;g.options=a.extend({},a.roadblocked.defaults,c);h=e(g.options.devices);if((j=g.options.devices[h])&&jQuery.cookie(""+g.options.campaignName)!=="done"){i=d();b=g.setContent(j);k=j["link"];g.placeInterstitial(i,b,k,h);f(g.options.lifetime,g.options.campaignName)}return g};e=function(a){var b,c,d,e,f,g,h,i;f="";e=[];for(b in a){e.push(b)}d=navigator.userAgent.toLowerCase();g=function(a){if(d.indexOf(a)>-1){if(a==="android"){if(d.indexOf("mobile")>-1)return f=a}else{return f=a}}};for(h=0,i=e.length;h<i;h++){c=e[h];g(c)}return f};this.placeInterstitial=function(b,c,d,e){var f;f=a("<div>",{id:"roadblocked-container","class":e});f.html("");f.css({"background-color":g.options.overlayBackgroundColor,top:"0",left:"0",height:"100%",width:"100%",position:"absolute","z-index":"100",margin:"0",display:"block",overflow:"hidden"});a("body").prepend(f);a("#roadblocked-container").prepend(b);if(g.options.dismissPlacement==="top"){a("#dismiss-bar").after(c)}else if(g.options.dismissPlacement==="bottom"){a("#dismiss-bar").before(c)}else{a("#dismiss-bar").after(c)}a("#dismiss-bar").click(function(){return a("#roadblocked-container").hide()});return a("#inter-content").click(function(){if(d!=null){window.location=""+d;return a("#roadblocked-container").hide()}})};d=function(){var b,c;b=g.options.dismissLabel;if(typeof b==="string"){c=a("<div>",{id:"dismiss-bar"});c.css({height:""+g.options.dismissLabelHeight,"background-color":""+g.options.overlayBackgroundColor,"text-align":""+g.options.dismissLabelAlign,"background-image":"url('"+g.options.imgPath+"/"+g.options.dismissLabel+"')","background-position":""+g.options.dismissLabelAlign,"background-repeat":"no-repeat","background-size":"75%"});return c}else if(typeof b==="object"){b.attr("id","dismiss-bar");b.show();return b}};this.setContent=function(b){var c,d;if(b["img"]!=null){d=a("<div>",{id:"inter-content"});if(typeof g.options.dismissLabel==="string"){c=(100-parseFloat(g.options.dismissLabelHeight)).toString()+"%"}else{c="100%"}d.css({height:c,width:"100%","background-image":"url('"+g.options.imgPath+"/"+b["img"]+"')","background-position":"top","background-repeat":"no-repeat","background-size":"cover"});return d}else if(b["selector"]!=null){b["selector"].attr("id","inter-content");b["selector"].show();return b["selector"]}};f=function(a,b){return jQuery.cookie(""+b,"done",{expires:a})};this.isRetna=function(){var a;return(a=window.devicePixelRatio>1)!=null?a:{"true":false}};return this.init()};a.roadblocked.defaults={imgPath:"images",retnaPath:"images/retna",overlayBackgroundColor:"#000",dismissLabelHeight:"7.5%",dismissLabelAlign:"center",dismissPlacement:"top",lifetime:0,campaignName:"jqueryRoadblocked"};a.fn.roadblocked=function(b){return a.each(this,function(c,d){var e;e=a(d);if(!e.data("roadblocked")){return e.data("roadblocked",new a.roadblocked(d,b))}})};return})(jQuery)